<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SUSE Manager 4.0 Proxy :: SUSE Manager Documentation</title>
    <meta name="generator" content="Antora 1.1.1">
    <link rel="stylesheet" href="../../../_/css/site.css">
    <link rel="stylesheet" href="../../../_/css/site-extra.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css">
    <!-- fetched from https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css -->
    <link rel="icon" href="../../../_/img/favicon.ico" type="image/x-icon">
  </head>
  <body class="article">
<header class="header" role="banner">
  <nav class="navbar">
    <div class="navbar-brand">
      <div class="navbar-item">
        <a href="https://opensource.suse.com/doc-susemanager/">SUSE Manager</a>
        <span class="separator">//</span>
        <a href="../../..">Documentation</a>
      </div>
      <div class="navbar-item">
        <input id="search-input" type="text" placeholder="Search docs">
      </div>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <div class="navbar-item has-dropdown is-hoverable">
          <div class="navbar-link">Projects</div>
          <div class="navbar-dropdown">
            <div class="navbar-item"><strong>Resources</strong></div>
            <a class="navbar-item" href="https://github.com/SUSE/doc-susemanager/tree/beta1">Repository</a>
            <a class="navbar-item" href="https://github.com/SUSE/doc-susemanager/issues">Issue Tracker</a>
<!--
            <hr class="navbar-divider">
            <div class="navbar-item"><strong>Custom UI (coming soon!)</strong></div>
            <a class="navbar-item" href="https://gitlab.com/antora/antora-ui-default">Repository</a>
            <a class="navbar-item" href="https://gitlab.com/antora/antora-ui-default/issues">Issue Tracker</a>
            <hr class="navbar-divider">

            <a class="navbar-item" href="https://github.com/SUSE/doc-susemanager/wiki/Asciidoc-getting-started">Contributing</a>
          </div>
        </div>
           -->
              <!--
        <div class="navbar-item has-dropdown is-hoverable">
          <div class="navbar-link">Community</div>
          <div class="navbar-dropdown is-right">
            <a class="navbar-item" href="https://gitter.im/uyuniproject/users">Uyuni Chat (Users)</a>
            <a class="navbar-item" href="https://gitter.im/uyuniproject/develop">Uyuni Chat (Dev)</a>
          </div>
        </div>
        -->
          </div>
        </div>
        <a class="navbar-item" href="https://twitter.com/susemanager?lang=de">
          <span class="icon">
            <svg aria-hidden="true" data-icon="twitter" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
              <path fill="#57aaee" d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"></path>
            </svg>
          </span>
        </a>
      </div>
    </div>
  </nav>
</header>
<div class="main-wrapper">
<div class="navigation-container" data-component="suse-manager" data-version="beta1">
  <aside class="navigation">
    <div class="panels">
<div class="navigation-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../index.html">SUSE Manager</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../release-notes-version-4.0.html">Release Notes</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-toggle"></button>
    <span class="nav-text">Installation Guide</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="install-intro.html">Introduction</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="install-overview.html">Overview</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="install-component-server.html">Server</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="install-component-proxy.html">Proxy</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="install-component-clients.html">Clients</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="install-component-salt.html">Salt</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="install-component-database.html">Database</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <span class="nav-text">Requirements</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="install-general-requirements.html">General</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="install-hardware-requirements.html">Hardware</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="install-network-requirements.html">Network</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="install-client-requirements.html">Clients</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <span class="nav-text">First Installation</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="install-vm.html">Install VM</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="install-server.html">Install Server</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="install-server-setup.html">Server Setup</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <span class="nav-text">IBM zSystems</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="install-zsystems.html">Install IBM zSystems</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <span class="nav-text">Proxy</span>
<ul class="nav-list">
  <li class="nav-item is-current-page" data-depth="3">
    <a class="nav-link" href="install-proxy.html">Install Proxy</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="../client-configuration/client-config-overview.html">Client Configuration Guide</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../client-configuration/clients-and-scc.html">SUSE Customer Center</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../client-configuration/clients-and-activation-keys.html">Activation Keys</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../client-configuration/traditional-vs-salt.html">Traditional VS Salt</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../client-configuration/bootstrapping-clients.html">Bootstrapping</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../client-configuration/contact-methods.html">Client Contact Methods</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="../client-configuration/manual-registration/manual-registration-overview.html">Manual Registration</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../client-configuration/manual-registration/creating-activation-keys.html">Creating Activation keys</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../client-configuration/manual-registration/creating-a-tools-repository.html">Creating a Tools Repository</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../client-configuration/manual-registration/traditional-registration.html">Traditional Registration</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../client-configuration/manual-registration/salt-registration.html">Salt Registration</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../client-configuration/clients-rh.html#clients-rh">Red Hat Clients</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../client-configuration/clients-centos.html#clients-centos">CentOS Clients</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../client-configuration/clients-ubuntu.html#clients-centos">Ubuntu Clients</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../client-configuration/scale-minions.html#scale-minions">Scaling Salt Minion</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="../client-configuration/automating-installation/autoinstallation-methods.html">Automating Client Installation</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../client-configuration/automating-installation/autoyast.html">AutoYaST</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../client-configuration/automating-installation/kickstart.html">Kickstart</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../client-configuration/automating-installation/cobbler.html">Cobbler</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../client-configuration/disconnected-setup.html">Disconnected Setup</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../client-configuration/subscription-management.html">Subscription Management</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="../upgrade/upgrade-overview.html">Upgrade Guide</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../upgrade/server-upgrade.html">Server Update</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../upgrade/migrate-2x-3x.html">Server Upgrade 2.x &#8594; 3.x</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../upgrade/migrate-3x-3x.html">Server Upgrade 3.x &#8594; 3.x</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../upgrade/migrate-3x-4x.html">Server Upgrade 3.x &#8594; 4.x</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../upgrade/client-migration.html">Client Migration</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="../upgrade/sp-migration.html">Service Pack Migration</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../upgrade/sp-migration/performing-an-sp-migration.html">Performing an SP Migration</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../upgrade/db-migration.html">Database Migration</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../upgrade/maintenance-window-tasks.html">Maintenance Window Tasks</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../upgrade/troubleshooting-upgrades-and-migrations.html">Troubleshooting</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../upgrade/upgrade-script-example.html">Example Script for Automated Upgrades</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="../reference/intro.html#reference-manual-intro">Reference Manual</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="../reference/home/home-menu.html">Home</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../reference/home/home-overview.html">Overview</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../reference/home/notification-messages.html">Notification Messages</a>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-toggle"></button>
    <span class="nav-text">User Account</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="#">home/user-account/your-account.adoc</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="#">home/user-account/addresses.adoc</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="#">home/user-account/change-email.adoc</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="#">home/user-account/account-deactivation.adoc</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../reference/home/your-preferences.html">Your Preferences</a>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-toggle"></button>
    <span class="nav-text">Your Organization</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../reference/home/your-organization/your-organization-configuration.html">Configuration</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../reference/home/your-organization/your-organization-trusts.html">Organization Trusts</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../reference/home/your-organization/your-organization-configuration-channels.html">Configuration Channels</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="../reference/systems/systems-menu.html">Systems</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../reference/systems/systems-overview.html">Overview</a>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-toggle"></button>
    <span class="nav-text">System Details</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="#">systems/system-details/system-details-overview.adoc</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-toggle"></button>
    <span class="nav-text">Systems</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="#">systems/systems/systems.adoc</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#">systems/system-groups.adoc</a>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-toggle"></button>
    <span class="nav-text">System Set Manager</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="#">systems/system-set-manager/ssm-overview.adoc</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="#">systems/system-set-manager/ssm-task-log.adoc</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="../administration/intro.html">Administration Guide</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../administration/virtual-hosts.html">Virtual Hosts</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../administration/autoyast-example.html">AutoYaST Example</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../administration/image-management.html">Image Management</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../administration/kubernetes.html">Kubernetes</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../administration/icinga.html">Icinga</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../administration/optimization-scalability.html">Optimization and Scalability</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../administration/ports.html">Ports</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../administration/security.html">Security</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="../administration/spacecmd.html">spacecmd</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../administration/spacecmd/configuring-spacecmd.html">Configuring spacecmd</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../administration/spacecmd/spacecmd-help.html">spacecmd Help</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../administration/spacecmd/spacecmd-history.html">spacecmd History</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../administration/spacecmd/troubleshooting-spacecmd.html">Troubleshooting spacecmd</a>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="../administration/spacecmd/spacecmd-functions.html">spacecmd Functions</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../administration/spacecmd/functions/activationkey_.html">activationkey_</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../administration/spacecmd/functions/api.html">api</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../administration/spacecmd/functions/clear.html">clear</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../administration/spacecmd/functions/clear_caches.html">clear_caches</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../administration/spacecmd/functions/configchannel_.html">configchannel_</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../administration/spacecmd/functions/cryptokey_.html">cryptokey_</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../administration/spacecmd/functions/custominfo_.html">custominfo_</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../administration/spacecmd/functions/distribution_.html">distribution_</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../administration/spacecmd/functions/errata_.html">errata_</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../administration/spacecmd/functions/filepreservation_.html">filepreservation_</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../administration/spacecmd/functions/get_.html">get_</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../administration/spacecmd/functions/group_.html">group_</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../administration/spacecmd/functions/kickstart_.html">kickstart_</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../administration/spacecmd/functions/list_proxies.html">list_proxies</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../administration/spacecmd/functions/login.html">login</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../administration/spacecmd/functions/logout.html">logout</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../administration/spacecmd/functions/org_.html">org_</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../administration/spacecmd/functions/package_.html">package_</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../administration/virtualization.html">Virtualization</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../administration/auth-methods.html">Authentication Methods</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../administration/custom-ssl.html">Using Custom SSL Certificates</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../administration/backup-restore.html">Backing Up and Restoring</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../administration/troubleshooting.html">Troubleshooting</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../administration/live-patching.html">Live Patching</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-toggle"></button>
    <span class="nav-text">Salt Guide</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../salt/salt-intro.html#salt-intro">Introduction</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../salt/salt.html#salt">Salt</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../salt/salt-ssh.html#salt-ssh">Salt SSH</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../salt/salt-states.html#salt-states">Salt States</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../salt/salt-formulas.html#salt-formulas">Salt Formulas</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="../retail/retail-introduction.html">Retail Guide</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../retail/retail-gs/retail-components.html">Components</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../retail/retail-gs/retail-install.html">Install</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../retail/retail-gs/retail-formulas.html">Formulas</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../retail/retail-gs/retail-admin.html">Administration</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../retail/retail-gs/retail-next.html">What Next?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="../retail/retail-upgrade/retail-migration-intro.html">Retail Upgrade</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../retail/retail-upgrade/retail-prepare-migration.html">Prepare for Migration</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../retail/retail-upgrade/retail-migration-slepostosuma.html">Migrate SLEPOS to SUMA</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="../architecture/architecture-intro.html">Architecture</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../architecture/architecture-legend.html">Legend</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="../architecture/salt/salt-overview.html">Salt</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../architecture/salt/salt-core-components.html">Core Salt Components</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../architecture/salt/salt-data-locations.html">Salt Data Locations</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../architecture/salt/salt-contact-method-overview.html">Salt Contact Methods</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../architecture/salt/salt-pull.html">Salt Pull</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../architecture/salt/salt-ssh-push.html">Salt SSH Push</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../architecture/salt/salt-ssh-push-tunnel.html">Salt SSH Push &amp; Tunnel</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../architecture/salt/salt-bootstrapping-ui.html">Salt Bootstrapping WebUI</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../architecture/salt/salt-onboarding-and-registration.html">Onboarding and Registration</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="../architecture/traditional/traditional-overview.html">Traditional</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../architecture/traditional/traditional-contact-method-overview.html">Contact Methods</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../architecture/traditional/traditional-rhnsd.html">rhnsd</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../architecture/traditional/traditional-osad.html">osad</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../architecture/traditional/traditional-ssh-push.html">SSH Push</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../architecture/traditional/traditional-ssh-pull.html">SSH Pull</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="../architecture/repositories/repositories-overview.html">Repositories</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../architecture/repositories/pool-repositories.html">Pool Repositories</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../architecture/repositories/devel-repositories.html">Devel Repositories</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../architecture/repositories/tools-repositories.html">Tools Repositories</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../architecture/repositories/maintenance-repositories.html">Maintenance Repositories</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../architecture/repositories/syncing-repositories.html">Syncing Repositories</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="../architecture/component-index/components-overview.html">Component Index</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../architecture/component-index/apache.html">Apache httpd</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../architecture/component-index/tomcat.html">Tomcat</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../architecture/component-index/python-xmlrpc-server.html">Python XMLRPC Server</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../architecture/component-index/taskomatic.html">Taskomatic</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../architecture/component-index/database.html">Database</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../architecture/component-index/mgr-sync.html">mgr-sync</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../architecture/component-index/spacewalk-repo-sync.html">spacewalk-repo-sync</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../architecture/component-index/osa-dispatcher.html">osa-dispatcher</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../architecture/component-index/jabberd.html">jabberd</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../architecture/component-index/mgr_check.html">mgr_check</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../architecture/component-index/plugin-zypp-spacewalk.html">zypp-plugin-spacewalk</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../architecture/component-index/rhnsd.html">rhnsd</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../architecture/component-index/osad.html">osad</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../architecture/component-index/salt-master.html">salt-master</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../architecture/component-index/salt-api.html">salt-api</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../architecture/component-index/salt-minion.html">salt-minion</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../architecture/component-index/salt-broker.html">salt-broker</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="navigation-explore" data-panel="explore">
  <div class="context">
    <span class="title">SUSE Manager</span>
    <span class="version">beta1</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <span class="title">SUSE Manager</span>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../index.html">beta1</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
  <main class="main">
<div class="toolbar" role="navigation">
  <button class="navigation-toggle"></button>
  <a href="../index.html" class="home-link"></a>
<nav class="crumbs" aria-label="breadcrumbs">
  <ul>
    <li class="crumb"><a href="../index.html">SUSE Manager</a></li>
    <li class="crumb">Installation Guide</li>
    <li class="crumb">Proxy</li>
    <li class="crumb"><a href="install-proxy.html">Install Proxy</a></li>
  </ul>
</nav>
  <div class="edit-this-page"><a href="https://github.com/SUSE/doc-susemanager/edit/beta1/modules/installation/pages/install-proxy.adoc">Edit this Page</a></div>
</div>
<article class="doc">
<h1>SUSE Manager 4.0 Proxy</h1>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>This chapter explains how to install and set up SUSE Manager 4.0 Proxy.
It also provides notes about migrating a previous proxy to version 3.2.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="at.manager.proxy.concepts"><a class="anchor" href="#at.manager.proxy.concepts"></a><a class="link" href="#at.manager.proxy.concepts">Overview</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>SUSE Manager 4.0 Proxy is a SUSE Manager add-on that caches software packages on an internal, central server.
The proxy caches patch updates from SUSE or custom RPMs generated by third-party organizations.
A proxy allows you to use bandwidth more effectively because client systems connect to the proxy for updates, and the SUSE Manager server is no longer required to handle all client requests.
A SUSE Manager Proxy can serve both Traditional and Salt clients.
The proxy also supports transparent custom package deployment.</p>
</div>
<div class="paragraph">
<p>SUSE Manager Proxy is an open source (GPLv2) solution that provides the following features:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Cache software packages within a Squid proxy.</p>
</li>
<li>
<p>Client systems see the SUSE Manager Proxy as a SUSE Manager server instance.</p>
</li>
<li>
<p>The SUSE Manager Proxy is registered as a client system with the SUSE Manager server.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The primary goal of a SUSE Manager Proxy is to improve SUSE Manager performance by reducing bandwidth requirements and accelerating response time.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="at.manager.proxy.inst-and-clients"><a class="anchor" href="#at.manager.proxy.inst-and-clients"></a><a class="link" href="#at.manager.proxy.inst-and-clients">Proxy Installation and Connecting Clients</a></h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="at.manager.proxy.requirements"><a class="anchor" href="#at.manager.proxy.requirements"></a><a class="link" href="#at.manager.proxy.requirements">Requirements</a></h3>
<div class="paragraph">
<p>The following section provides SUSE Manager Proxy requirements.</p>
</div>
<div class="paragraph">
<div class="title">Supported Client Systems</div>
<p>For supported clients and their requirements, see xref:FILENAME.adoc#quickstart.sect.prereq.clientos[].</p>
</div>
<div class="paragraph">
<div class="title">Hardware Requirements</div>
<p>Hardware requirements highly depend on your usage scenario.
When planning proxy environments, consider the amount of data you want to cache on your proxy.
If your proxy should be a 1:1 mirror of your SUSE Manager, the same amount of disk space is required.
For specific hardware requirements, see the following table.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Hardware</th>
<th class="tableblock halign-left valign-top">Required</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CPU</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Multi-core 64-bit CPU (x86_64).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">RAM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Minimum 4&#160;GB for a non-production server</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Minimum 16&#160;GB for a production server</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Free Disk Space</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Minimum 100&#160;GB for base installation and at least 50 GB for caching per SUSE product and +100 GB per Red Hat product; a resizeable partition strongly recommended.</p></td>
</tr>
</tbody>
</table>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="title">Storage for Proxy Data</div>
<div class="paragraph">
<p>SUSE recommends storing the squid proxy caching data on a separate disk formatted with the XFS file system.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<div class="title">SSL Certificate Password</div>
<p>For installing the proxy, you need the SSL certificate password entered during the initial installation of SUSE Manager.</p>
</div>
<div class="paragraph">
<div class="title">Network Requirements</div>
<p>For additional network requirements, see xref:FILENAME.adoc#quickstart.sect.prereq.network[].</p>
</div>
<div class="paragraph">
<div class="title">SUSE Customer Center</div>
<p>For using SUSE Manager Proxy, you need an account at SUSE Customer Center (SCC) where your purchased products and product subscriptions are registered.
Make sure you have the following subscriptions:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>One or more subscriptions for SUSE Manager Proxy.</p>
</li>
<li>
<p>One or more subscriptions for SUSE Manager.</p>
</li>
<li>
<p>Subscriptions for the products on the client systems you want to register with SUSE Manager via SUSE Manager Proxy .</p>
</li>
<li>
<p>Subscriptions to client entitlements for the client system you want to register with SUSE Manager via SUSE Manager Proxy .</p>
</li>
</ul>
</div>
<div class="paragraph">
<div class="title">Network Time Protocol (NTP)</div>
<p>The connection to the Web server via Secure Sockets Layer (SSL) requires correct time settings on the server, proxy and clients.
For this reason, all systems must use NTP.
For more information, see <a href="https://www.suse.com/documentation/sles-12/book_sle_admin/data/cha_netz_xntp.html" class="bare">https://www.suse.com/documentation/sles-12/book_sle_admin/data/cha_netz_xntp.html</a>.</p>
</div>
<div class="paragraph">
<div class="title">Virtual Environments</div>
<p>The following virtual environments are supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="http://www.linux-kvm.org/page/Main_Page" class="bare">http://www.linux-kvm.org/page/Main_Page</a></p>
</li>
<li>
<p><a href="http://www.vmware.com/" class="bare">http://www.vmware.com/</a></p>
</li>
<li>
<p><a href="http://www.microsoft.com/en-us/server-cloud/solutions/virtualization.aspx" class="bare">http://www.microsoft.com/en-us/server-cloud/solutions/virtualization.aspx</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For running SUSE Manager Proxy in virtual environments, use the following settings for the virtual machine (VM):</p>
</div>
<div class="ulist">
<ul>
<li>
<p>At least 1 GB of RAM</p>
</li>
<li>
<p>Bridged network</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="at.manager.proxy.inst"><a class="anchor" href="#at.manager.proxy.inst"></a><a class="link" href="#at.manager.proxy.inst">Installation and Setup</a></h3>
<div class="paragraph">
<p>The following section will guide you through the installation and setup procedure.</p>
</div>
<div class="paragraph">
<p>SUSE Manager Proxy systems are registered as traditional clients or as Salt clients using a bootstrap script.
Migrating a traditionally registered Proxy system to a Salt Proxy system is not possible.
Re-install the Proxy if you want to switch to Salt.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="title">Downloading Channels</div>
<div class="paragraph">
<p>Before you can select the correct child channels while creating the activation key, ensure you have completely downloaded the channels for SUSE Linux Enterprise 12 SP4.</p>
</div>
</td>
</tr>
</table>
</div>
<div id="at.manager.proxy.install.prep" class="olist arabic">
<div class="title">Procedure: Registering the Proxy</div>
<ol class="arabic">
<li>
<p>Create an activation key based on the SUSE Linux Enterprise 12 SP4 base channel.
For more information about activation keys, see xref:FILENAME.adoc#create.act.keys[].</p>
<div class="imageblock">
<div class="content">
<img src="_images/proxy-key.png" alt="proxy key">
</div>
<div class="title">Figure 1. Proxy Activation Key</div>
</div>
</li>
<li>
<p>From the <code class="guimenu">Child Channels</code> listing select the SUSE Manager 4.0 Proxy child channel with the matching update channel (<code class="systemitem">SUSE Manager Proxy-3.2-Pool</code> and <code class="systemitem">SUSE-Manager-Proxy-3.2-Updates</code>).
These child channels are required for providing the proxy packages and updates.
For normal SLES clients, <code class="systemitem">SLES12-SP4-Updates</code> plus <code class="systemitem">SLE-Manager-Tools12-Pool</code> and <code class="systemitem">SLE-Manager-Tools12-Updates</code> are mandatory.</p>
<div class="imageblock">
<div class="content">
<img src="_images/sles12-proxy-child.png" alt="sles12 proxy child">
</div>
<div class="title">Figure 2. Base and Child Proxy Channel</div>
</div>
</li>
<li>
<p>Modify a bootstrap script for the proxy if needed.
If you want to run the proxy on a traditional client (system type <code>Management</code>) uncheck <code class="guimenu">Bootstrap using Salt</code>.
Using Salt is supported since version 3.2.
For more information about bootstrap scripts, see xref:FILENAME.adoc#modify.bootstrap.script[].</p>
<div class="imageblock">
<div class="content">
<img src="_images/sles12-proxy-bootstrap.png" alt="sles12 proxy bootstrap">
</div>
<div class="title">Figure 3. Modifying Bootstrap Script</div>
</div>
</li>
<li>
<p>Create the SUSE Manager Tools Repository for bootstrapping, see xref:FILENAME.adoc#create.tools.repository[].</p>
</li>
<li>
<p>Bootstrap the client with the bootstrap script.  For more information, see xref:FILENAME.adoc#connect.first.client[].</p>
</li>
<li>
<p>In case of a Salt client, accept the key on the <span class="menuseq"><b class="menu">Main Menu</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">Salt</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="menuitem">Keys</b></span> page by clicking the check mark and it will appear in the <span class="menuseq"><b class="menu">Main Menu</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">Systems</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="menuitem">Overview</b></span>.</p>
</li>
<li>
<p>Check via <span class="menuseq"><b class="menu">System Details</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">Software</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="menuitem">Software Channels</b></span> that the two proxy channels <code class="systemitem">SUSE Manager Proxy-3.2-Pool</code> and <code class="systemitem">SUSE-Manager-Proxy-3.2-Updates</code> are selected.</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/sles12-proxy-channels.png" alt="sles12 proxy channels">
</div>
<div class="title">Figure 4. Proxy Channels</div>
</div>
<div class="paragraph">
<p>A few more steps are still needed:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Install the <code class="path">patterns-suma_proxy</code> pattern (see xref:FILENAME.adoc#at.manager.proxy.run.pattern[])</p>
</li>
<li>
<p>Copy the SSL certificate and key from the server (see xref:FILENAME.adoc#at.manager.proxy.run.copycert[])</p>
</li>
<li>
<p>Run <code class="command">configure-proxy.sh</code> (see pass:c[xref:FILENAME.adoc#at.manager.proxy.run.confproxy)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>You will then be able to register your clients against the proxy using the Web UI or a bootstrap script as if it were a SUSE Manager server.
For more information, see xref:FILENAME.adoc#at.manager.proxy.register.saltclients[].</p>
</div>
</div>
<div class="sect2">
<h3 id="at.manager.proxy.run.pattern"><a class="anchor" href="#at.manager.proxy.run.pattern"></a><a class="link" href="#at.manager.proxy.run.pattern">Install the <code class="path">suma_proxy</code> pattern</a></h3>
<div class="paragraph">
<p>On the server select the <code class="package">pattern_suma_proxy</code> package for installation, or make sure the <code class="path">suma_proxy</code> pattern is installed using the following command on the proxy as root:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>zypper in -t pattern suma_proxy</pre>
</div>
</div>
<div class="paragraph">
<p>The new salt-broker service will be automatically started at the end of the package installation.
This service forwards the Salt interactions to the SUSE Manager server.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Proxy Chains</div>
<div class="paragraph">
<p>It is possible to arrange Salt proxies in a chain.
In such a case, the upstream proxy is named &#8220;parent&#8221;.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Make sure the proxie&#8217;s TCP ports <code>4505</code> and <code>4506</code> are open and that the proxy can reach the SUSE Manager server (or another upstream proxy) on these ports.</p>
</div>
</div>
<div class="sect2">
<h3 id="at.manager.proxy.run.copycert"><a class="anchor" href="#at.manager.proxy.run.copycert"></a><a class="link" href="#at.manager.proxy.run.copycert">Copy Server Certificate and Key</a></h3>
<div class="paragraph">
<p>The proxy will share some SSL information with the SUSE Manager server, so the next step is to copy the certificate and its key from the SUSE Manager server or the upstream proxy.</p>
</div>
<div class="paragraph">
<p>As root, enter the following commands on the proxy using your SUSE Manager server or chained proxy named <code class="replaceable">PARENT</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>mkdir /root/ssl-build
cd /root/ssl-build
scp root@PARENT:/root/ssl-build/RHN-ORG-PRIVATE-SSL-KEY .
scp root@PARENT:/root/ssl-build/RHN-ORG-TRUSTED-SSL-CERT .
scp root@PARENT:/root/ssl-build/rhn-ca-openssl.cnf .</pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Known Limitation</div>
<div class="paragraph">
<p>The SUSE Manager Proxy functionality is only supported if the SSL certificate was signed by the same CA as the SUSE Manager Server certificate.
Using certificates signed by different CAs for Proxies and Server is not supported.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="at.manager.proxy.run.confproxy"><a class="anchor" href="#at.manager.proxy.run.confproxy"></a><a class="link" href="#at.manager.proxy.run.confproxy">Running <code class="command">configure-proxy.sh</code></a></h3>
<div class="paragraph">
<p>The <code class="command">configure-proxy.sh</code> script will finalize the setup of your SUSE Manager Proxy.</p>
</div>
<div class="paragraph">
<p>Now execute the interactive <code class="command">configure-proxy.sh</code> script.
Pressing <kbd>Enter</kbd> without further input will make the script use the default values provided between brackets <code>[]</code>.
Here is some information about the requested settings:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">SUSE Manager Parent</dt>
<dd>
<p>A SUSE Manager parent can be either another proxy server or a SUSE Manager server.</p>
</dd>
<dt class="hdlist1">HTTP Proxy</dt>
<dd>
<p>A HTTP proxy enables your SUSE Manager proxy to access the Web.
This is needed if direct access to the Web is prohibited by a firewall.</p>
</dd>
<dt class="hdlist1">Proxy Version to Activate</dt>
<dd>
<p>Normally, the correct value (3.0, 3.1, or 3.2) should be offered as a default.</p>
</dd>
<dt class="hdlist1">Traceback Email</dt>
<dd>
<p>An email address where to report problems.</p>
</dd>
<dt class="hdlist1">Use SSL</dt>
<dd>
<p>For safety reasons, press <code>Y</code>.</p>
</dd>
<dt class="hdlist1">Do You Want to Import Existing Certificates?</dt>
<dd>
<p>Answer <code>N</code>.
This ensures using the new certificates that were copied previously from the SUSE Manager server.</p>
</dd>
<dt class="hdlist1">Organization</dt>
<dd>
<p>The next questions are about the characteristics to use for the SSL certificate of the proxy.
The organization might be the same organization that was used on the server, unless of course your proxy is not in the same organization as your main server.</p>
</dd>
<dt class="hdlist1">Organization Unit</dt>
<dd>
<p>The default value here is the proxy&#8217;s hostname.</p>
</dd>
<dt class="hdlist1">City</dt>
<dd>
<p>Further information attached to the proxy&#8217;s certificate.
Beware the country code must be made of two upper case letters.
For further information on country codes, refer to the online <a href="https://www.iso.org/obp/ui/#search">list of alpha-2 codes</a>.</p>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="title">Country Code</div>
<div class="paragraph">
<p>As the country code enter the country code set during the SUSE Manager installation.
For example, if your proxy is in US and your SUSE Manager in DE, you must enter <code>DE</code> for the proxy.</p>
</div>
</td>
</tr>
</table>
</div>
</dd>
<dt class="hdlist1">Cname Aliases (Separated by Space)</dt>
<dd>
<p>Use this if your proxy server can be accessed through various DNS CNAME aliases.
Otherwise it can be left empty.</p>
</dd>
<dt class="hdlist1">CA Password</dt>
<dd>
<p>Enter the password that was used for the certificate of your SUSE Manager server.</p>
</dd>
<dt class="hdlist1">Do You Want to Use an Existing SSH Key for Proxying SSH-Push Salt Minions?</dt>
<dd>
<p>Use this option if you want to reuse a SSH key that was used for SSH-Push Salt minions on the server.</p>
</dd>
<dt class="hdlist1">Create and Populate Configuration Channel rhn_proxy_config_1000010001?</dt>
<dd>
<p>Accept default <code>Y</code>.</p>
</dd>
<dt class="hdlist1">SUSE Manager Username</dt>
<dd>
<p>Use same user name and password as on the SUSE Manager server.</p>
</dd>
<dt class="hdlist1">Activate advertising proxy via SLP?</dt>
<dd>
<p>SLP stands for Service Location Protocol.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>If parts are missing, such as CA key and public certificate, the script prints commands that you must execute to integrate the needed files.
When the mandatory files are copied, re-run <code class="command">configure-proxy.sh</code>.
Also restart the script if a HTTP error was met during script execution.</p>
</div>
<div class="paragraph">
<p><code class="command">configure-proxy.sh</code> activates services required by SUSE Manager Proxy, such as <code class="systemitem">squid</code>, <code class="systemitem">apache2</code>, <code class="systemitem">salt-broker</code>, and <code class="systemitem">jabberd</code>.</p>
</div>
<div class="paragraph">
<p>To check the status of the proxy system and its clients, click the proxy system&#8217;s details page on the Web UI (<span class="menuseq"><b class="menu">Main Menu</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">Systems</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="menuitem">Proxy</b></span>, then the system name). <code class="guimenu">Connection</code> and <code class="guimenu">Proxy</code> subtabs display the respective status information.</p>
</div>
</div>
<div class="sect2">
<h3 id="at.manager.proxy.register.saltclients"><a class="anchor" href="#at.manager.proxy.register.saltclients"></a><a class="link" href="#at.manager.proxy.register.saltclients">Registering Salt Clients via SUSE Manager Proxy</a></h3>
<div class="paragraph">
<p>Proxy servers may now act as a broker and package cache for Salt minions.
These minions can be registered with a bootstrap script like the traditional clients, or from the Web UI, or the command line.</p>
</div>
<div class="paragraph">
<p>Registering Salt clients via SUSE Manager Proxy from the Web UI
is done almost the same way as registering clients directly with the SUSE Manager server.
The difference is that you specify the name of the proxy in the <code class="guimenu">Proxy</code> drop-box on the <span class="menuseq"><b class="menu">Main Menu</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">Systems</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="menuitem">Bootstrapping</b></span> page.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/proxy-saltbootstrap.png" alt="proxy saltbootstrap">
</div>
<div class="title">Figure 5. Bootstrapping a Salt Client With a Proxy</div>
</div>
<div class="olist arabic">
<div class="title">Procedure: Register a Salt client through a proxy from command line</div>
<ol class="arabic">
<li>
<p>Instead of the Web UI, you may use the command line to register a minion through a proxy.
To do so, add the proxy FQDN as the master in the minions configuration file located at:</p>
<div class="listingblock">
<div class="content">
<pre>/etc/salt/minion</pre>
</div>
</div>
<div class="paragraph">
<p>or alternatively:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>/etc/salt/minion.d/NAME.conf</pre>
</div>
</div>
</li>
<li>
<p>Add the FQDN to the minion file:</p>
<div class="listingblock">
<div class="content">
<pre>master: proxy123.example.com</pre>
</div>
</div>
<div class="paragraph">
<p>Save and restart the salt-minion service with:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>systemctl restart salt-minion</pre>
</div>
</div>
</li>
<li>
<p>On the Server, accept the new minion key with:</p>
<div class="listingblock">
<div class="content">
<pre>salt-key -a 'minion'</pre>
</div>
</div>
<div class="paragraph">
<p>The minion will now connect to the proxy exclusively for Salt operations and normal HTTP package downloads.</p>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="at.manager.proxy.register.clients"><a class="anchor" href="#at.manager.proxy.register.clients"></a><a class="link" href="#at.manager.proxy.register.clients">Registering Clients via SUSE Manager Proxy with a Script</a></h3>
<div class="paragraph">
<p>Registering clients (either traditional or Salt) via SUSE Manager Proxy with a script is done almost the same way as registering clients directly with the SUSE Manager server.
The difference is that you create the bootstrap script on the SUSE Manager Proxy with a command-line tool.
The bootstrap script then deploys all necessary information to the clients.
The bootstrap script refers some parameters (such as activation keys or GPG keys) that depend on your specific setup.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Create a client activation key on the SUSE Manager server using the Web UI.
See xref:FILENAME.adoc#create.act.keys[].</p>
</li>
<li>
<p>On the proxy, execute the <code class="command">mgr-bootstrap</code> command-line tool as root.
If needed, use the additional command-line switches to tune your bootstrap script. An important option is <code class="command">--traditional</code> that enables to opt for a traditional client instead of a salt minion.</p>
<div class="paragraph">
<p>To view available options type <code class="command">mgr-bootstrap --help</code> from the command line:</p>
</div>
<div class="listingblock">
<div class="content">
<pre># mgr-bootstrap --activation-keys=key-string</pre>
</div>
</div>
</li>
<li>
<p>Optionally edit the resulting bootstrap script.
Execute the bootstrap script on the clients as described in xref:FILENAME.adoc#connect.first.client[].</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>The clients are registered with the SUSE Manager Proxy specified in the bootstrap script.</p>
</div>
</div>
<div class="sect2">
<h3 id="at.additional.info.about.client.registration.on.proxies"><a class="anchor" href="#at.additional.info.about.client.registration.on.proxies"></a><a class="link" href="#at.additional.info.about.client.registration.on.proxies">Additional Information about Client Registration on Proxies</a></h3>
<div class="paragraph">
<p>Within the Web UI, standard proxy pages will show information about client, no matter whether minions or traditional clients.</p>
</div>
<div class="paragraph">
<p>A list of clients connected to a proxy can be located under <span class="menuseq"><b class="menu">Systems</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">] &lt;proxy name</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="menuitem">menu:Details[</b></span><b class="menuref">Proxy</b>.</p>
</div>
<div class="paragraph">
<p>A list of chained proxies for a minion can be located under <span class="menuseq"><b class="menu">Systems</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">] &lt;minion name</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="menuitem">menu:Details[</b></span><b class="menuref">Connection</b></p>
</div>
<div class="paragraph">
<p>If you decide to move any of your clients between proxies or the server you will need to repeat the registration process from scratch.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="advanced.topics.proxy.pxe"><a class="anchor" href="#advanced.topics.proxy.pxe"></a><a class="link" href="#advanced.topics.proxy.pxe">Enabling PXE Boot via SUSE Manager Proxy</a></h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="advanced.topics.proxy.pxe.sync"><a class="anchor" href="#advanced.topics.proxy.pxe.sync"></a><a class="link" href="#advanced.topics.proxy.pxe.sync">Synchronizing Profiles and System Information</a></h3>
<div class="paragraph">
<p>To enable PXE boot via a proxy server, additional software must be installed and configured on both the SUSE Manager server and the SUSE Manager Proxy server.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>On the SUSE Manager server install <span class="package">susemanager-tftpsync</span> :</p>
<div class="listingblock">
<div class="content">
<pre>zypper in susemanager-tftpsync</pre>
</div>
</div>
</li>
<li>
<p>On the SUSE Manager Proxy server install <span class="package">susemanager-tftpsync-recv</span> :</p>
<div class="listingblock">
<div class="content">
<pre>zypper in susemanager-tftpsync-recv</pre>
</div>
</div>
</li>
<li>
<p>Run the <code class="command">configure-tftpsync.sh</code> setup script and enter the requested information:</p>
<div class="listingblock">
<div class="content">
<pre>configure-tftpsync.sh</pre>
</div>
</div>
<div class="paragraph">
<p>It asks for hostname and IP address of the SUSE Manager server and of the proxy itself.
Additionally, it asks for the tftpboot directory on the proxy.</p>
</div>
</li>
<li>
<p>On the SUSE Manager server, run <code class="command">configure-tftpsync.sh</code> to configure the upload to the SUSE Manager Proxy server:</p>
<div class="listingblock">
<div class="content">
<pre>configure-tftpsync.sh FQDN_of_Proxy_Server</pre>
</div>
</div>
</li>
<li>
<p>To initiate an initial synchronization on the SUSE Manager Server run:</p>
<div class="listingblock">
<div class="content">
<pre>cobbler sync</pre>
</div>
</div>
<div class="paragraph">
<p>Also can also be done after each a change within Cobbler that needs to be synchronized immediately.
Otherwise Cobbler synchronization will also run automatically when needed.
For more information about Cobbler, see xref:FILENAME.adoc#advanced.topics.cobbler[].</p>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="advanced.topics.proxy.pxe.dhcp"><a class="anchor" href="#advanced.topics.proxy.pxe.dhcp"></a><a class="link" href="#advanced.topics.proxy.pxe.dhcp">Configuring DHCP for PXE via SUSE Manager Proxy</a></h3>
<div class="paragraph">
<p>SUSE Manager is using Cobbler to provide provisioning.
PXE (tftp) is installed and activated by default.
To enable systems to find the PXE boot on the SUSE Manager Proxy server add the following to the DHCP configuration for the zone containing the systems to be provisioned:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>next-server: &lt;IP_Address_of_SUSE_Manager_Proxy_Server&gt;
filename: "pxelinux.0"</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="advanced.topics.proxy.migration3"><a class="anchor" href="#advanced.topics.proxy.migration3"></a><a class="link" href="#advanced.topics.proxy.migration3">Migrating SUSE Manager 3.1 Proxy to Version 4.0 [Management]</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>The recommended order for migrations is to first migrate the server and then the proxies.</p>
</div>
<div class="paragraph">
<p>For the migration of traditionally managed proxies there are two possible approaches:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Existing SUSE Manager proxies may be upgraded to version 3.2 with YaST or <code class="command">zypper</code> migration.</p>
</li>
<li>
<p>Alternatively, the proxies may be replaced by new ones.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This section documents both approaches.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Migrating SUSE Manager 3 Proxy and Earlier</div>
<div class="paragraph">
<p>For migrating SUSE Manager 3 Proxy and earlier, see <a href="https://www.suse.com/documentation/suse-manager-3/book_suma_advanced_topics_31/data/sect1_chapter_book_suma_advanced_topics_31.html" class="bare">https://www.suse.com/documentation/suse-manager-3/book_suma_advanced_topics_31/data/sect1_chapter_book_suma_advanced_topics_31.html</a>, Chapter "SUSE Manager 3.1 Proxy".</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="at.replacing.a.susemgrproxy"><a class="anchor" href="#at.replacing.a.susemgrproxy"></a><a class="link" href="#at.replacing.a.susemgrproxy">Replacing a SUSE Manager Proxy</a></h3>
<div class="paragraph">
<p>A SUSE Manager Proxy is <code>dumb</code> in the sense that it does not contain any information about the clients which are connected to it.
A SUSE Manager Proxy can therefore be replaced by a new one.
Naturally, the replacement proxy must have the same name and IP address as its predecessor.</p>
</div>
<div class="paragraph">
<p>In order to replace a SUSE Manager Proxy and keeping the clients registered to the proxy leave the old proxy in SUSE Manager.
Create a reactivation key for this system and then register the new proxy using the reactivation key.
If you do not use the reactivation key, you will need to re-registered all the clients against the new proxy.</p>
</div>
<div id="proc.advanced.topics.proxy.migration3.replace" class="olist arabic">
<div class="title">Procedure: Replacing a SUSE Manager Proxy and Keeping the Clients Registered</div>
<ol class="arabic">
<li>
<p>Before starting the actual migration procedure, save the data from the old proxy, if needed.
Consider copying important data to a central place that can also be accessed by the new server:</p>
<div class="ulist">
<ul>
<li>
<p>Copy the scripts that are still needed.</p>
</li>
<li>
<p>Copy the activation keys from the previous server.
Of course, it is always better to re-create the keys.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Shutdown the server.</p>
</li>
<li>
<p>Install a new SUSE Manager 4.0 Proxy, see xref:FILENAME.adoc#at.manager.proxy.inst-and-clients[].</p>
</li>
<li>
<p>In the SUSE Manager Web UI select the newly installed SUSE Manager Proxy and delete it from the systems list.</p>
</li>
<li>
<p>In the Web UI, create a reactivation key for the old proxy system: On the System Details tab of the old proxy click <code class="guimenu">Reactivation</code>.
Then click <code class="guimenu">Generate New Key</code>, and remember it (write it on a piece of paper or copy it to the clipboard).
For more information about reactivation keys, see xref:FILENAME.adoc#s5-sm-system-details-react[].</p>
</li>
<li>
<p>After the installation of the new proxy, perform the following actions (if needed):</p>
<div class="ulist">
<ul>
<li>
<p>Copy the centrally saved data to the new proxy system.</p>
</li>
<li>
<p>Install any other needed software.</p>
</li>
<li>
<p>If the proxy is also used for autoinstallation, do not forget to setup TFTP synchronization.</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="title">Proxy Installation and Client Connections</div>
<div class="paragraph">
<p>During the installation of the proxy, clients will not be able to reach the SUSE Manager server.
After a SUSE Manager Proxy system has been deleted from the systems list, all clients connected to this proxy will be (incorrectly) listed as <code>directly connected</code> to the SUSE Manager server.
After the first successful operation on a client <em>such as execution of a remote command or installation of a package or patch</em> this information will automatically be corrected.
This may take a few hours.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="at.upgrade.a.susemgrproxy"><a class="anchor" href="#at.upgrade.a.susemgrproxy"></a><a class="link" href="#at.upgrade.a.susemgrproxy">Upgrading a SUSE Manager Proxy from 3.1 to 4.0</a></h3>
<div class="paragraph">
<p>In most situations upgrading the proxy will be your preferred solution as this retains all cached packages.
Selecting this route saves time especially regarding proxies connected to SUSE Manager server via low-bandwith links.
This upgrade is similar to a standard client migration.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="title">Synchronizing Target Channels</div>
<div class="paragraph">
<p>Before successfully initializing the product migration, you first must make sure that the migration target channels are completely mirrored.
To upgrade to SUSE Manager 3.2 Proxy, you will require at least the <code class="systemitem">SUSE Linux Enterprise Server 12 SP4</code> base channel with the <code class="systemitem">SUSE Manager Proxy 3.2</code> child channel for your architecture.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="olist arabic">
<div class="title">Procedure: Migrating Proxy to 4.0</div>
<ol class="arabic">
<li>
<p>Direct your browser to the SUSE Manager Web UI where your proxy is registered, and login.</p>
</li>
<li>
<p>On the <span class="menuseq"><b class="menu">Main Menu</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">Systems</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">Systems</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="menuitem">Proxy</b></span> page select your proxy server from the table.</p>
<div class="imageblock">
<div class="content">
<img src="_images/suma_proxy_old_details_page.png" alt="suma proxy old details page">
</div>
</div>
</li>
<li>
<p>On the system&#8217;s detail page select the <span class="menuseq"><b class="menu">Software</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="menuitem">SP Migration</b></span> tab.</p>
<div class="imageblock">
<div class="content">
<img src="_images/suma_proxy_old_details_spmigration.png" alt="suma proxy old details spmigration">
</div>
</div>
</li>
<li>
<p>From this page you will see installed products listed on your proxy client, and the available target products.
Select the required <code class="guimenu">Target Products</code>.  In this case, you will require <code class="systemitem">SUSE Linux Enterprise Server 12 SP4</code> with <code class="systemitem">SUSE Manager Proxy 3.2</code>.</p>
<div class="imageblock">
<div class="content">
<img src="_images/suma_proxy_migration_target.png" alt="suma proxy migration target">
</div>
</div>
</li>
<li>
<p>Then confirm with <b class="button">Select Channels</b>.</p>
<div class="imageblock">
<div class="content">
<img src="_images/suma_proxy_migration_channels.png" alt="suma proxy migration channels">
</div>
</div>
</li>
<li>
<p>From the <code class="guimenu">Schedule Migration</code> menu, select the time and click <b class="button">Confirm</b>.</p>
<div class="imageblock">
<div class="content">
<img src="_images/suma_proxy_migration_schedule.png" alt="suma proxy migration schedule">
</div>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>Check the <code class="guimenu">System Status</code> on the <span class="menuseq"><b class="menu">System Details</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="menuitem">Overview</b></span> when the migration is done.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/suma_proxy_migrated.png" alt="suma proxy migrated">
</div>
</div>
<div class="paragraph">
<p>Finally consider scheduling a reboot.</p>
</div>
</div>
</div>
</div>
</article>
  </main>
</div>
<footer class="footer">
  <p>Copyright (C) 2017-2018 <a href="https://opensource.suse.com/doc-susemanager/">SUSE Manager</a></p>
</footer>
<script src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script>
<!-- fetched from https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js -->
<script>
function focusSearchInput () { document.querySelector('#search-input').focus() }
var search = docsearch({
  appId: 'KIB3CEDKWD',
  apiKey: '51646b7d454f125193a0ba62253e8e17',
  indexName: 'manager',
  inputSelector: '#search-input',
  autocompleteOptions: { hint: false, keyboardShortcuts: ['s'] },
  algoliaOptions: { hitsPerPage: 10 }
}).autocomplete;
search.on('autocomplete:closed', function () { search.autocomplete.setVal() });
focusSearchInput();
window.addEventListener('load', focusSearchInput)
</script>
<script src="../../../_/js/site.js"></script>
<script src="../../../_/js/vendor/highlight.js"></script>
<script>hljs.initHighlighting()</script>
  </body>
</html>
