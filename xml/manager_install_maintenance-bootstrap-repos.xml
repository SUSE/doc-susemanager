<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sect1
[
  <!ENTITY % entities SYSTEM "entity-decl.ent">
    %entities;
]>
<!-- Converted by suse-upgrade version 1.1 -->

<sect1 xmlns="http://docbook.org/ns/docbook" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" version="5.0" xml:id="s1-maintenance-create-bootstrap-repo">
 <title>Creating Up-to-date Bootstrap Repositories</title>  <!--bnc #858050-->
   <indexterm><primary>Bootstrap Repositories</primary></indexterm>
    <para>
      To get up-to-date packages for the bootstrap repositories, use the
      <command>mgr-create-bootstrap-repo</command> command, but first you need
      to uninstall all packages in the old bootstrap repositories:
    </para>
    <screen>
# zypper remove spacewalk-client-repository spacewalk-client-repository-sle-10-4 
spacewalk-client-repository-sle-10-3 spacewalk-client-repository-sle-11-1
Loading repository data...
Reading installed packages...
Resolving package dependencies...

The following packages are going to be REMOVED:
  spacewalk-client-repository spacewalk-client-repository-sle-10-3 
  spacewalk-client-repository-sle-10-4 spacewalk-client-repository-sle-11-1 

4 packages to remove.
After the operation, 62.5 MiB will be freed.
Continue? [y/n/?] (y): y
Removing spacewalk-client-repository-0.1-0.7.1 [done]
Removing spacewalk-client-repository-sle-10-4-0.1-0.7.2 [done]
Removing spacewalk-client-repository-sle-11-1-0.1-0.7.1 [done]
Removing spacewalk-client-repository-sle-10-3-0.1-0.7.2 [done] 
    </screen>
    <para>
     Now call the <command>mgr-create-bootstrap-repo</command> command for
     SLE-11-SP3-x86_64:
    </para>  
    <screen>
# mgr-create-bootstrap-repo
SLE-11-SP1-x86_64
SLE-11-SP2-x86_64
SLE-11-SP3-x86_64
Enter product label: SLE-11-SP3-x86_64
copy 'spacewalk-client-tools-1.7.14.18-0.5.2.noarch'
copy 'zypper-1.6.308-0.9.16.x86_64'
copy 'libzypp-9.37.1-0.7.1.x86_64'
copy 'satsolver-tools-0.17.7-0.6.2.1.x86_64'
copy 'zypp-plugin-python-0.3-2.5.38.x86_64'
copy 'zypp-plugin-spacewalk-0.9.5-0.5.5.x86_64'
copy 'spacewalk-check-1.7.14.18-0.5.2.noarch'
copy 'spacewalk-client-setup-1.7.14.18-0.5.2.noarch'
copy 'newt-0.52.10-1.35.113.x86_64'
copy 'libnewt0_52-0.52.10-1.35.113.x86_64'
copy 'python-newt-0.52.10-1.35.113.x86_64'
copy 'python-dmidecode-3.10.11-0.10.1.x86_64'
copy 'python-ethtool-0.7-0.15.15.1.x86_64'
copy 'python-openssl-0.7.0-1.17.2.x86_64'
copy 'rhnlib-2.5.51.5-0.5.1.x86_64'
copy 'spacewalksd-4.9.15.3-0.5.3.x86_64'
copy 'suseRegisterInfo-1.7.4-0.5.1.x86_64'
copy 'libcurl4-7.19.7-1.28.1.x86_64'
copy 'slang-2.1.1-58.18.x86_64'
Spawning worker 0 with 26 pkgs
Workers Finished
Gathering worker results

Saving Primary metadata
Saving file lists metadata
Saving other metadata
    </screen>
    <para>
     Repeat the command for SLE-11-SP1-x86_64 and SLE-11-SP2-x86_64 if
     necessary. Now you have the latest package versions for your bootstrap
     repositories. For bootstrapping &sls;_11_SP_1 clients, you need to create
     a compatibility symlink:<remark role="needinfo">emap: still relevant for SUMa 2.1?</remark>
    </para>
    <screen>
cd /srv/www/htdocs/pub/repositories
ln -s sle/11/1/bootstrap susemanager-client-setup
    </screen>
    <para>
     For more information, refer to the
     <command>mgr-create-bootstrap-repo</command> manpage.
    </para>
</sect1>
